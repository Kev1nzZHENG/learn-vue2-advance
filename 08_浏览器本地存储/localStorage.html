<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>localStorage</title>
</head>

<body>
	<h2>localStorage</h2>
	<button onclick="saveData()">点我保存一个数据</button>
	<button onclick="readData()">点我读取一个数据</button>
	<button onclick="deleteData()">点我删除一个数据</button>
	<button onclick="deleteAllData()">点我清空一个数据</button>

	<script type="text/javascript">
		let p = { name: '张三', age: 18 }

		function saveData() {
			// localStorage.setItem(test, 'test')
			// key要使用字符串形式
			localStorage.setItem('msg', 'hello!!!')
			localStorage.setItem('msg2', 666)
			localStorage.setItem('person', JSON.stringify(p))
		}
		function readData() {
			console.log(localStorage.getItem('msg'))
			console.log(localStorage.getItem('msg2'))

			const result = localStorage.getItem('person')
			/* JSON.parse()用法：JSON.parse()方法将JSON格式字符串转换为js对象(属性名没有双引号)；解析前要保证数据是标准的JSON格式，否则会解析出错； */
			console.log(JSON.parse(result))

			// console.log(localStorage.getItem('msg3'))
		}
		function deleteData() {
			localStorage.removeItem('msg2')
		}
		function deleteAllData() {
			localStorage.clear()
		}
	</script>
</body>

</html>